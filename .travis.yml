sudo: false
language: python
python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
  - "pypy2.7-5.8.0"
  - "pypy3.5-5.8.0"
install:
  - pip install tox-travis
  - pip install coveralls
script: tox
after_success:
  - coveralls
before_deploy:
  - pip install -r requirements.txt
deploy:
  - provider: pypi
    distributions: sdist
    server: https://testpypi.python.org/pypi
    user: penguinolog
    password:
      secure: "KcyV4h89d6DHZWIWR9B+K7hqt/VRiQioLtKmvgpvg/Mdd6qkK7tNVZvh98cPAbs5ZYO6/7OKfi1Y0+bXmJpq02h/0RSR7KlkKGwQaxlM8S+dJ5AqgY8lAQzclWKXxGXctN1PfnpiyjLP+coFFPYtQm+CBF5a1BQkogoWdQjrua/MWJFAKbw2PfaMhjVQUQNMv/h6vjyKE50/whI+cvqOzqFvIjC2Rn8RnGfTkfOyp+rPNFogBjr8BlHgr/2w+8OBRRKJj2vlm8ixI/1LXGrCKNFw2VvxFONRhJkBPbA6guqupmO53SKJg/84qgULZwXsPzXnDGQAmT7+mMM+S7SXXMaLUbVAkcc2jzk4kjB2nhaV4O+pjJyd+NTVHl1zPGW63TrIw9ilYYDH4c0xLmjV+TLLU3HUFwKEqc7FgtcfMHmVyCIHxMtLhkwxD+xRDxdDYAxG/7WcMGzZbl1/CX4TpsO8OQuGziLPMtcRa2gWAlU0gyRxb2AjngDtl9nY2khzMDdtZl0dGOCtOAr9Mz1Z3UXzt6tix/gD0lB7y87NH1Ilr5pxD8JR5ji/TRS9aBpnvNrwCwJcCYGptpaTQqI3Hoqcguqjj3iqzrBrJ9fT34cm5jEA+qbpAcK2fSv+Pyed/YofRtuXXvgRSc2TpvNf5HOxd8srBOgSBkFLHPhglm4="
    on:
      python: 3.5
      tags: false
    skip_upload_docs: true
    # PyPI
  - provider: pypi
    distributions: sdist
    user: penguinolog
    password:
      secure: "h1gXulNJxdjdUtPXDwUf/2MltjjiTy/cSsv+67Bxr9PAXSo9s0ynnhijKavE0QlKPr0NDJcEcl79dEN3gx1rkbAFZ+YRJfx0KHy26ImNAIx+npOFjGko87KhMNkrE3QBn9carWNnjYA4rCuUqbv/Znk9xixleE/sHJbKnkkTrerSI2jkznMa6h0FNVCEPzFesHmll7rBy4CjFkRcWNX8nfKNIV9rHFI7mXm8+jzl0msOnkEcKRqAk+MUwVjcD9XtpF42uA0nQTtqjWFdwSUxxBJKMyrkkI0o8Uk06EewkgJGwjGpvn+EUm1hBpjGrXUQQJyr20SZdC0CqaqXD/axISAtQPzP5I4Ey3VkLDV4mZuQjeNlbRbTH0Q7af+CpnOpFtYobIs1/HjB5wztazegT8uk4ZU/GheYqknXmtg9Ga8NV47sIpLC/hTLXWP+O/k0JKRYP9CgjTml2nLykNjZy4KRnlCUerYH8d4bNz687ElXU2bLtlBxyigUc9oo31DvNG+vB2axOp8wGiRTEpfBVPEF6EYUj+qSbX4ep4o/mWp+ax5YlLVYVoXkXpNecIggICAChIkqEl9MtGzTu31s3sBKpk9WuqoyHG80TDo2Tet6zWYx3itUx9M0SLkrML9Hs5WKsXDZE6jZrVHtx8lWuuZZl5JQkXYtd358lwJmEBM="
    on:
      python: 3.5
      tags: true
    skip_upload_docs: true
